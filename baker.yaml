schemaVersion: v1
import_root: "templates"
template_globs:
  - "**/*.jinja"
  - "*.jinja"
exclude_globs:
  - "generated/**"
  - "generated-*/**"
  - "sample/**"
  - ".git/**"
  - "target/**"

questions:
  project_name:
    type: str
    help: Please enter the name of your application
    default: "my_app"

  project_author:
    type: str
    help: "Please enter the author's name for {{project_name}}"

  project_version:
    type: str
    help: Please enter the version of the project
    default: "0.1.0"

  project_edition:
    type: str
    help: Please enter the edition of the project
    default: "2021"

  authentication:
    type: str
    help: What authentication method do you want to use?
    default: none
    choices:
      - jwt
      - oidc
      - none

  database:
    type: str
    help: What database do you want to use?
    default: postgres
    choices:
      - postgres

  use_seaorm_migrations:
    type: bool
    help: Do you want to use SeaORM migrations?
    default: false
    ask_if: database == 'postgres'

  db_schema:
    type: str
    help: What PostgreSQL schema should tables be created in?
    default: public
    ask_if: database == 'postgres'

  id_type:
    type: str
    help: What type should primary keys use?
    default: integer
    choices:
      - integer
      - uuid
      - big_integer

  features:
    type: str
    help: What features do you want to enable?
    multiselect: true
    default:
      - open-telemetry
    choices:
      - open-telemetry
      - helm

  protocol:
    type: str
    help: What protocol to generate the API with?
    default: rest
    choices:
      - rest
      - grpc

  frontend:
    type: str
    help: What frontend do you want to generate?
    default: none
    choices:
      - shadcn-admin-kit
      - none

  crudcrate:
    type: bool
    help: Do you want to use crudcrate for generation of rest controllers?
    default: false
    ask_if: protocol == 'rest'

  ci_cd:
    type: str
    help: What scripts for CI/CD do you want to generate?
    multiselect: true
    default:
      - github
    choices:
      - github

  entities:
    type: json
    help: Configure your entities
    schema_file: "templates/strapi.schema.json"
    default: |
      {
      }
